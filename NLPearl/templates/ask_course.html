{% extends "base.html" %}

{% block title %}Find Courses - NLPearl{% endblock %}

{% block content %}
<section class="recommend-hero">
    <div class="container">
        <h1 class="page-title">Find the Best Courses for Your Learning Goal</h1>
        <p class="page-subtitle">Enter your learning objective and let our AI find the perfect Coursera courses for you</p>
    </div>
</section>

<section class="search-section">
    <div class="container">
        <form method="POST" class="search-form">
            <div class="input-group">
                <label for="topic" class="input-label">Enter a topic or learning goal</label>
                <div class="input-wrapper">
                    <input 
                        type="text" 
                        id="topic" 
                        name="topic" 
                        class="search-input"
                        placeholder="e.g., Machine Learning for Beginners, Data Science Career Track"
                        value="{{ selected_course or '' }}"
                        required
                    >
                    <button type="submit" class="search-button">
                        <i class="fas fa-search"></i>
                        Find Courses
                    </button>
                </div>
            </div>
        </form>
    </div>
</section>

{% if error_message %}
<section class="error-section">
    <div class="container">
        <div class="error-message">
            <i class="fas fa-exclamation-triangle"></i>
            <p>{{ error_message }}</p>
        </div>
    </div>
</section>
{% endif %}

{% if recommendations %}
<section class="results-section">
    <div class="container">
        <div class="results-header">
            <h2>Recommended Courses</h2>
            <p>Based on your search: <strong>{{ selected_course }}</strong></p>
        </div>
        
        <div class="courses-grid">
            {% for course in recommendations %}
            <div class="course-card">
                <div class="course-header">
                    <h3 class="course-title">{{ course.name }}</h3>
                </div>
                <div class="course-body">
                    <p class="course-description">
                        Enhance your skills with this comprehensive course designed to advance your knowledge in {{ selected_course.split()[0] if selected_course else 'your field' }}.
                    </p>
                    <div class="course-meta">
                        <span class="platform-badge">
                            <i class="fas fa-graduation-cap"></i>
                            Coursera
                        </span>
                    </div>
                </div>
                <div class="course-footer">
                    <a href="{{ course.url }}" target="_blank" class="course-button">
                        <i class="fas fa-external-link-alt"></i>
                        View Course
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% elif selected_course and not error_message %}
<section class="empty-state">
    <div class="container">
        <div class="empty-content">
            <i class="fas fa-search"></i>
            <h3>No courses found</h3>
            <p>We couldn't find any courses matching your search. Try using different keywords or broader terms.</p>
        </div>
    </div>
</section>
{% endif %}
{% endblock %}